# [673. Number of Longest Increasing Subsequence](https://leetcode.com/problems/number-of-longest-increasing-subsequence/)

## Algorithm
#### Binary Search




#### DP
```python
class Solution(object):
    def findNumberOfLIS(self, nums):
        """
        :type nums: List[int]
        :rtype: int
        """
        if not nums: return 0
        # dp[i] - stats of longest increasing subsequence until i-th element
        dp1 = [1] * len(nums) # len(longestSubsequence), 
        dp2 = [1] * len(nums) # count # longestSubsequence
        for i in range(1, len(nums)):
            max_ = 1
            count = 0
            for j in range(i):
                if nums[i] > nums[j]:
                    if dp1[j]+1 > max_: 
                        max_ = dp1[j]+1
                        count = 0
                    count += dp2[j] if dp1[j] == max_ - 1 else 0
                    
            dp1[i] = max_
            dp2[i] = max(count, dp2[i])
        return sum(dp2[i] for i in range(len(nums)) if dp1[i] == max(dp1))
```
